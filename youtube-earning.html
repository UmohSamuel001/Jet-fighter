<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zenwealth - youtube earning</title>
    <link rel="stylesheet" href="newstyles.css" />
    <link rel="stylesheet" href="bootstrap-5.3.3-dist/css/bootstrap.min.css" />
    <style>
        #thumbnail {
            width: 100%;
            cursor: pointer;
        }
        /* #previewCOntainer {
            scale: .8 !important;
        } */
      </style>
  </head>
  <body>
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasExample"
      aria-labelledby="offcanvasExampleLabel"
    >
      <div class="offcanvas-cover"></div>
      <div class="offcanvas-header d-flex bg-">
        <div class="w-100 text-center" style="z-index: 5">
          <img
            src="img/ZEN logo.png"
            class="img-fluid"
            style="width: 90%; height: 80px"
          />
        </div>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div
        class="offcanvas-body d-flex align-items-center justify-content-center"
      >
        <div class="sidenav-wrapper">
          <ul class="mobile-sidenav-nav h-100">
            <li class="unactive-item">
              <a href="user-dashboard.html"
                ><ion-icon name="home-outline"></ion-icon
                ><span>Dashboard</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="withdrawals-history.html"
                ><ion-icon name="card-outline"></ion-icon
                ><span>Withdrawals</span>
              </a>
            </li>
            <li class="unactive-item">
              <a href="upload-product.html"
                ><ion-icon name="cart-outline"></ion-icon
                ><span>Upload Product</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="#"
                ><ion-icon name="pricetags-outline"></ion-icon
                ><span>Purchased Courses</span></a
              >
            </li>
            <li class="active-item">
              <a href="youtube-earning.html"
                ><ion-icon name="phone-portrait"></ion-icon
                ><span>Youtube Earning</span>
              </a>
            </li>
            <li class="unactive-item">
              <a href="downlines.html"
                ><ion-icon name="people-outline"></ion-icon
                ><span>Downlines</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="vendor-dashboard.html"
                ><ion-icon name="people-outline"></ion-icon
                ><span>Vendor Dashboard</span></a
              >
            </li>
            <li class="logout unactive-item">
              <a href="#"
                ><ion-icon name="log-out-outline"></ion-icon
                ><span>Logout</span></a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="page-wrapper">
      <!-- Sidebar -->
      <div
        class="d-flex align-items-center justify-content-center"
        id="mySidebar"
      >
        <div class="sidenav-wrapper p-3 bg-white radius-three">
          <div class="w-100 text-center mt-2" style="z-index: 5">
            <img
              src="img/Zenwealth Logo Alone-02.png"
              class="img-fluid"
              style="width: 50px; height: 50px"
            />
          </div>
          <ul class="sidenav-nav ps-0 h-100" style="margin-top: 40px">
            <li class="unactive-item">
              <a href="user-dashboard.html"
                ><ion-icon name="home-outline"></ion-icon
                ><span>Dashboard</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="withdrawals-history.html"
                ><ion-icon name="card-outline"></ion-icon
                ><span>Withdrawals</span>
              </a>
            </li>
            <li class="unactive-item">
              <a href="upload-product.html"
                ><ion-icon name="cart-outline"></ion-icon
                ><span>Upload Product</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="#"
                ><ion-icon name="pricetags-outline"></ion-icon
                ><span>Purchased Courses</span></a
              >
            </li>
            <li class="active-item">
              <a href="youtube-earning.html"
                ><ion-icon name="phone-portrait"></ion-icon
                ><span>Youtube Earning</span>
              </a>
            </li>
            <li class="unactive-item">
              <a href="downlines.html"
                ><ion-icon name="people-outline"></ion-icon
                ><span>Downlines</span></a
              >
            </li>
            <li class="unactive-item">
              <a href="vendor-dashboard.html"
                ><ion-icon name="people-outline"></ion-icon
                ><span>Vendor Dashboard</span></a
              >
            </li>
            <li class="logout unactive-item">
              <a href="#"
                ><ion-icon name="log-out-outline"></ion-icon
                ><span>Logout</span></a
              >
            </li>
          </ul>
        </div>
      </div>
      <!-- Sidebar ends -->

      <div id="main" class="bottom-space" style="overflow-y: scroll">
        <!-- <div class="trydiv2"></div> -->

        <!-- Navbar Start -->
        <nav class="navbar navbar-expand px-2 py-2 pt-3" id="navbar">
          <a
            href="#"
            class="sidebar-toggler flex-shrink-0"
            onclick="togglenav()"
          >
            <i
              class="fa fa-bars color-one"
              style="transform: translateY(-3px)"
            ></i>
          </a>
          <button
            class="btn"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasExample"
            aria-controls="offcanvasExample"
          >
            <label class="hamburger" id="hamburger">
              <svg viewBox="0 0 32 32">
                <path
                  class="line line-top-bottom"
                  d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"
                ></path>
                <path class="line" d="M7 16 27 16"></path>
              </svg>
            </label>
          </button>

          <div class="ms-4">
            <h4 class="fw-bold greeting text-white">Hello, Joe-Hansen</h4>
          </div>
          <div class="navbar-nav align-items-center ms-auto dashboard-nav">
            <div class="nav-item dropdown">
              <a href="#" class="nav-link" data-bs-toggle="dropdown">
                <img
                  class="rounded-circle border me-lg-2"
                  src="img/dax.jpeg"
                  alt=""
                  style="width: 47px; height: 45px"
                />
                <span class="d-none">Joe-Hansen Emeka</span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-end bg-white border-0 rounded-0 rounded-bottom m-0"
              >
                <a href="update-profile.html" class="dropdown-item"
                  >My Profile</a
                >
                <a href="#" class="dropdown-item">Settings</a>
                <a href="#" class="dropdown-item">Log Out</a>
              </div>
            </div>
          </div>
        </nav>
        <!-- Navbar End -->

        <div class="container-fluid position-relative">
          <div class="" id="previewContainer">
            <!-- <p class="fs-3 mb-0">How to Brush your Teeth</p> -->
            <a href="https://www.youtube.com/watch?v=OGAngW1BZ04" id="preview">
                <input
                type="hidden"
                id="youtubeLink"
                value="https://www.youtube.com/watch?v=OGAngW1BZ04"
                />
            </a>
          </div>

          <div class="mt-4">
            <!-- <h2 class="color-three fw-bold text-center mb-4">Verify Code</h2> -->
            <div class="number-boxes">
              <div class="box" id="box1"></div>
              <div class="box" id="box2"></div>
              <div class="box" id="box3"></div>
              <div class="box" id="box4"></div>
            </div>
          </div>

          <div class="container w-100 text-center">
            <input
              type="hidden"
              id="hiddenInput"
              class="input-field bg-transparent text-white"
              readonly
            />
          </div>

          <!-- <div class="yt-div sm">
                <img src="img/yt-icon.png" class="img-fluid yt-icon" alt="youtube icon">
            </div> -->
        </div>

        <div class="keyboard w-100 bg-overlay">
          <div class="keys-wrapper w-100 bg-">
            <div class="key" data-number="1">1</div>
            <div class="key" data-number="2">2</div>
            <div class="key" data-number="3">3</div>
            <div class="key" data-number="4">4</div>
            <div class="key" data-number="5">5</div>
            <div class="key" data-number="6">6</div>
            <div class="key" data-number="7">7</div>
            <div class="key" data-number="8">8</div>
            <div class="key" data-number="9">9</div>
            <div class="key bg-transparent"></div>
            <div class="key" data-number="0">0</div>
            <div class="bg-" id="backspace">
              <ion-icon name="backspace-outline"></ion-icon>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const boxes = document.querySelectorAll(".box");
      const keys = document.querySelectorAll(".key");
      const backspace = document.getElementById("backspace");
      const hiddenInput = document.getElementById("hiddenInput");
      const input = document.getElementById("youtubeLink");
      const previewContainer = document.getElementById("previewContainer");
      const preview = document.getElementById("preview");


      document.addEventListener('DOMContentLoaded', () => {
        const url = input.value;
        const videoID = extractVideoID(url);

        if (videoID) {
          const thumbnailURL = `https://img.youtube.com/vi/${videoID}/maxresdefault.jpg`;
          preview.innerHTML = `
          <img id="thumbnail" src="${thumbnailURL}" class="rounded" alt="Video Thumbnail" />
          <p class="link-text pt-2 px-2">${url}</p>
        `;
        console.log('video id found: ', videoID);
        } else {
          previewContainer.innerHTML = `<p>Video preview will appear here</p>`;
          console.log('video id not found');
        }
      });

      function extractVideoID(url) {
        const regex = /(?:youtube\.com\/.*v=|youtu\.be\/)([^&#]+)/;
        const match = url.match(regex);
        return match ? match[1] : null;
      }

      let currentIndex = 0; // Track which box is being filled

      // Function to handle key clicks
      keys.forEach((key) => {
        key.addEventListener("click", () => {
          const number = key.getAttribute("data-number");
          if (currentIndex < 4) {
            // Ensure only 4 digits are added
            boxes[currentIndex].innerText = number;
            currentIndex++;
            updateHiddenInput(); // Update hidden input field for submission
          }
        });
      });

      // Function to handle backspace
      backspace.addEventListener("click", () => {
        if (currentIndex > 0) {
          currentIndex--; // Move back one box
          boxes[currentIndex].innerText = ""; // Clear the last box
          updateHiddenInput(); // Update hidden input field after deletion
        }
      });

      // Function to handle key presses from the physical keyboard
      document.addEventListener("keydown", (e) => {
        const key = e.key;

        // Check if the pressed key is a number between 0-9
        if (!isNaN(key) && key !== " ") {
          if (currentIndex < 4) {
            // Ensure only 4 digits are added
            boxes[currentIndex].innerText = key;
            currentIndex++;
            updateHiddenInput(); // Update hidden input field for submission
          }
        }

        // Handle backspace key press
        if (key === "Backspace" && currentIndex > 0) {
          currentIndex--; // Move back one box
          boxes[currentIndex].innerText = ""; // Clear the last box
          updateHiddenInput(); // Update hidden input field after deletion
        }
      });

      // Function to update the hidden input field with the entered numbers
      function updateHiddenInput() {
        let inputValue = "";
        boxes.forEach((box) => {
          inputValue += box.innerText; // Concatenate all box values
        });
        hiddenInput.value = inputValue; // Set the hidden input value
        console.log(hiddenInput.value);
      }
    </script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script src="bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
